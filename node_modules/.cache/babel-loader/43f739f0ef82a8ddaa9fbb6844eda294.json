{"ast":null,"code":"import _slicedToArray from\"C:/Users/Augusto/Desktop/PI Food - Frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getRecipes,filterRecipeByDiets,filterRecipeByOrder,filterRecipeByHs}from'../../reducer/actions';import{Link}from'react-router-dom';import Card from'../Card/Card';import SearchBar from'../SearchBar/SearchBar';import Paginate from'../Paginate/Paginate';import NavBar from'../NavBar/NavBar';import HomeBanner from'../Banners/HomeBanner';import s from'./Home.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var dispatch=useDispatch();var allRecipes=useSelector(function(state){return state.recipes;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),order=_useState2[0],setOrder=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),orderHs=_useState4[0],setOrderHs=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(9),_useState8=_slicedToArray(_useState7,2),perPage=_useState8[0],setPerpage=_useState8[1];var lastIndex=page*perPage;var firstIndex=lastIndex-perPage;var currentRecipes=allRecipes.slice(firstIndex,lastIndex);var paginate=function paginate(pageNumber){setPage(pageNumber);};useEffect(function(){dispatch(getRecipes());},[dispatch]);function handleClick(e){e.preventDefault();dispatch(getRecipes());setPage(1);};function handleFilterDiets(e){e.preventDefault();dispatch(filterRecipeByDiets(e.target.value));setPage(1);};function handleFilterOrder(e){e.preventDefault();dispatch(filterRecipeByOrder(e.target.value));setOrder(e.target.value);setPage(1);}function handleFilterHs(e){e.preventDefault();dispatch(filterRecipeByHs(e.target.value));setOrderHs(e.target.value);setPage(1);};function handleId(){document.documentElement.scrollTop=0;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(HomeBanner,{}),/*#__PURE__*/_jsxs(\"div\",{className:s.filterscontainer,children:[/*#__PURE__*/_jsx(SearchBar,{paginate:paginate}),/*#__PURE__*/_jsxs(\"select\",{className:s.filters,onChange:function onChange(e){return handleFilterDiets(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Diets\"},1),/*#__PURE__*/_jsx(\"option\",{value:\"gluten free\",children:\"Gluten free\"},2),/*#__PURE__*/_jsx(\"option\",{value:\"ketogenic\",children:\"Ketogenic\"},3),/*#__PURE__*/_jsx(\"option\",{value:\"lacto ovo vegetarian\",children:\"Vegetarian\"},4),/*#__PURE__*/_jsx(\"option\",{value:\"lacto ovo vegetarian\",children:\"Lacto vegetarian\"},5),/*#__PURE__*/_jsx(\"option\",{value:\"lacto ovo vegetarian\",children:\"Ovo vegetarian\"},6),/*#__PURE__*/_jsx(\"option\",{value:\"lacto ovo vegetarian\",children:\"Lacto ovo vegetarian\"},7),/*#__PURE__*/_jsx(\"option\",{value:\"vegan\",children:\"Vegan\"},8),/*#__PURE__*/_jsx(\"option\",{value:\"pescetarian\",children:\"Pescetarian\"},9),/*#__PURE__*/_jsx(\"option\",{value:\"paleo\",children:\"Paleo\"},10),/*#__PURE__*/_jsx(\"option\",{value:\"primal\",children:\"Primal\"},11),/*#__PURE__*/_jsx(\"option\",{value:\"low FODMAP\",children:\"Low FODMAP\"},12),/*#__PURE__*/_jsx(\"option\",{value:\"whole30\",children:\"Whole30\"},13)]}),/*#__PURE__*/_jsxs(\"select\",{className:s.filters,onChange:function onChange(e){return handleFilterOrder(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Order\"},1),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"A-Z\"},2),/*#__PURE__*/_jsx(\"option\",{value:\"des\",children:\"Z-A\"},3)]}),/*#__PURE__*/_jsxs(\"select\",{className:s.filters,onChange:function onChange(e){return handleFilterHs(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"healthScore\",children:\"Health Score\"},1),/*#__PURE__*/_jsx(\"option\",{value:\"Low - High\",children:\"Low - High\"},2),/*#__PURE__*/_jsx(\"option\",{value:\"High - Low\",children:\"High - Low\"},3)]}),/*#__PURE__*/_jsx(\"button\",{className:s.resetbtn,onClick:function onClick(e){handleClick(e);},children:\"Refresh Recipes\"})]}),/*#__PURE__*/_jsx(Paginate,{page:page,perPage:perPage,allRecipes:allRecipes,paginate:paginate}),/*#__PURE__*/_jsx(\"div\",{className:s.cardscontainer,children:currentRecipes===null||currentRecipes===void 0?void 0:currentRecipes.map(function(e){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{className:s.link,to:\"/recipes/\".concat(e.id),onClick:handleId,children:/*#__PURE__*/_jsx(Card,{name:e.name,diets:e.diets,image:e.image},e.id)})});})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getRecipes","filterRecipeByDiets","filterRecipeByOrder","filterRecipeByHs","Link","Card","SearchBar","Paginate","NavBar","HomeBanner","s","Home","dispatch","allRecipes","state","recipes","order","setOrder","orderHs","setOrderHs","page","setPage","perPage","setPerpage","lastIndex","firstIndex","currentRecipes","slice","paginate","pageNumber","handleClick","e","preventDefault","handleFilterDiets","target","value","handleFilterOrder","handleFilterHs","handleId","document","documentElement","scrollTop","filterscontainer","filters","resetbtn","cardscontainer","map","link","id","name","diets","image"],"sources":["C:/Users/Augusto/Desktop/PI Food - Frontend/client/src/components/Home/Home.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getRecipes, filterRecipeByDiets, filterRecipeByOrder, filterRecipeByHs } from '../../reducer/actions';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '../Card/Card';\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport Paginate from '../Paginate/Paginate';\r\nimport NavBar from '../NavBar/NavBar';\r\nimport HomeBanner from '../Banners/HomeBanner';\r\nimport s from './Home.module.css';\r\n\r\n\r\n\r\n\r\nfunction Home() {\r\n\r\n    const dispatch = useDispatch();\r\n    const allRecipes = useSelector((state) => state.recipes);\r\n    const [order, setOrder] = useState('');\r\n    const [orderHs, setOrderHs] = useState('');\r\n    const [page, setPage] = useState(1);\r\n    const [perPage, setPerpage] = useState(9);\r\n    const lastIndex = page * perPage;\r\n    const firstIndex = lastIndex - perPage;\r\n    const currentRecipes = allRecipes.slice(firstIndex, lastIndex);\r\n    const paginate = function (pageNumber) { setPage(pageNumber) };\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getRecipes())\r\n    }, [dispatch]);\r\n\r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n        dispatch(getRecipes())\r\n        setPage(1)\r\n    };\r\n\r\n    function handleFilterDiets(e) {\r\n        e.preventDefault();\r\n        dispatch(filterRecipeByDiets(e.target.value));\r\n        setPage(1)\r\n    };\r\n\r\n    function handleFilterOrder(e) {\r\n        e.preventDefault();\r\n        dispatch(filterRecipeByOrder(e.target.value))\r\n        setOrder(e.target.value)\r\n        setPage(1)\r\n    }\r\n\r\n\r\n    function handleFilterHs(e) {\r\n        e.preventDefault();\r\n        dispatch(filterRecipeByHs(e.target.value))\r\n        setOrderHs(e.target.value)\r\n        setPage(1)\r\n    };\r\n\r\n    function handleId(){\r\n        document.documentElement.scrollTop = 0;\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <NavBar />\r\n            <HomeBanner />\r\n            <div className={s.filterscontainer}>\r\n                <SearchBar paginate={paginate} />\r\n\r\n                <select className={s.filters} onChange={e => handleFilterDiets(e)}>\r\n                    <option value='all' key={1}>Diets</option>\r\n                    <option value='gluten free' key={2}>Gluten free</option>\r\n                    <option value='ketogenic' key={3} >Ketogenic</option>\r\n                    <option value='lacto ovo vegetarian' key={4}>Vegetarian</option>\r\n                    <option value='lacto ovo vegetarian' key={5}>Lacto vegetarian</option>\r\n                    <option value='lacto ovo vegetarian' key={6}>Ovo vegetarian</option>\r\n                    <option value='lacto ovo vegetarian' key={7}>Lacto ovo vegetarian</option>\r\n                    <option value='vegan' key={8}>Vegan</option>\r\n                    <option value='pescetarian' key={9}>Pescetarian</option>\r\n                    <option value='paleo' key={10}>Paleo</option>\r\n                    <option value='primal' key={11}>Primal</option>\r\n                    <option value='low FODMAP' key={12}>Low FODMAP</option>\r\n                    <option value='whole30' key={13}>Whole30</option>\r\n                </select>\r\n                <select className={s.filters} onChange={e => handleFilterOrder(e)}>\r\n                    <option value='all' key={1}>Order</option>\r\n                    <option value='asc' key={2}>A-Z</option>\r\n                    <option value='des' key={3}>Z-A</option>\r\n\r\n                </select>\r\n                <select className={s.filters} onChange={e => handleFilterHs(e)}>\r\n                    <option value='healthScore' key={1}>Health Score</option>\r\n                    <option value='Low - High' key={2}>Low - High</option>\r\n                    <option value='High - Low' key={3}>High - Low</option>\r\n                </select>\r\n\r\n                <button className={s.resetbtn} onClick={e => { handleClick(e) }}>\r\n                    Refresh Recipes\r\n                </button>\r\n            </div>\r\n\r\n\r\n            \r\n            <Paginate page={page} perPage={perPage} allRecipes={allRecipes} paginate={paginate} />\r\n\r\n\r\n            <div className={s.cardscontainer}>\r\n                {\r\n                    currentRecipes?.map(e => {\r\n                        return (\r\n                            <div>\r\n                                <Link className={s.link} to={`/recipes/${e.id}`} onClick={handleId}>\r\n                                    <Card name={e.name} diets={e.diets} image={e.image} key={e.id} />\r\n                                </Link>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\n\r\n\r\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}